<Window
x:Class="HardwareAnalyzer.MainWindow"
xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
xmlns:local="using:HardwareAnalyzer"
xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
mc:Ignorable="d">
    <Grid>
        <Grid x:Name="AppTitleBar"
		      Canvas.ZIndex="1"
		      Height="28"
		      IsHitTestVisible="True"
		      VerticalAlignment="Top">
            <Image Source="/Assets/WindowIcon.ico"
			       HorizontalAlignment="Left"
			       Margin="16,0,0,0"
			       Width="16"
			       Height="16" />
            <TextBlock x:Name="AppTitleBarText"
			x:Uid="AppTitleBarText"
			Text="Hardware Analyzer"
			VerticalAlignment="Center"
			TextWrapping="NoWrap"
			Style="{StaticResource CaptionTextBlockStyle}"
			Margin="50,0,0,0" />
        </Grid>
        <Grid Margin="0,28,0,0">
            <Grid.RowDefinitions>
                <RowDefinition Height="*" />
                <RowDefinition Height="Auto" />
            </Grid.RowDefinitions>

            <!-- Drop Zone -->
            <Border x:Name="DropZone"
			Grid.Row="0"
			AllowDrop="True"
			Drop="DropZone_Drop"
			DragOver="DropZone_DragOver"
			DragLeave="DropZone_DragLeave"
			Background="Transparent"
			BorderBrush="{ThemeResource ControlStrongStrokeColorDefaultBrush}"
			BorderThickness="2"
			CornerRadius="8"
			Margin="20">
                <Grid>
                    <StackPanel x:Name="DropPrompt"
								HorizontalAlignment="Center"
								VerticalAlignment="Center"
								Visibility="Visible">
                        <FontIcon FontFamily="Segoe MDL2 Assets"
							Glyph="&#xE8B9;"
							FontSize="48"
							Opacity="0.5" />
                        <TextBlock x:Uid="DropPromptTitle"
								Text="Drop screenshot here"
								FontSize="18"
								Opacity="0.5"
								Margin="0,10,0,0"
								HorizontalAlignment="Center" />
                        <TextBlock x:Uid="DropPromptSubtitle"
								Text="Windows Settings &gt; System &gt; About"
								FontSize="12"
								Opacity="0.4"
								Margin="0,5,0,0"
								HorizontalAlignment="Center" />
                    </StackPanel>

                    <!-- Preview Image -->
                    <Image x:Name="PreviewImage"
					       Visibility="Collapsed"
					       Stretch="Uniform"
					       MaxHeight="400" />

                    <!-- Loading indicator -->
                    <StackPanel x:Name="LoadingPanel"
								Visibility="Collapsed"
								HorizontalAlignment="Center"
								VerticalAlignment="Center">
                        <ProgressRing IsActive="True" Width="50" Height="50" />
                        <TextBlock x:Uid="LoadingText"
								Text="Analyzing image..."
								Margin="0,10,0,0"
								HorizontalAlignment="Center" />
                    </StackPanel>
                </Grid>
            </Border>

            <!-- Bottom Bar -->
            <Grid Grid.Row="1" Background="{ThemeResource CardBackgroundFillColorDefaultBrush}">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="Auto" />
                    <ColumnDefinition Width="*" />
                    <ColumnDefinition Width="Auto" />
                </Grid.ColumnDefinitions>

                <StackPanel Grid.Column="0" Orientation="Horizontal" Margin="10">
                    <Button x:Name="BrowseButton" x:Uid="BrowseButton" Click="BrowseButton_Click" ToolTipService.ToolTip="Browse for image">
                        <StackPanel Orientation="Horizontal">
                            <FontIcon FontFamily="Segoe MDL2 Assets" Glyph="&#xE8E5;" />
                            <TextBlock x:Uid="BrowseButtonText" Text="Browse" Margin="8,0,0,0" />
                        </StackPanel>
                    </Button>
                </StackPanel>

                <StackPanel Grid.Column="2" Orientation="Horizontal" Margin="10">
                    <Button x:Name="AnalyzeButton"
						Style="{ThemeResource AccentButtonStyle}"
						Click="AnalyzeButton_Click"
						IsEnabled="False">
                        <StackPanel Orientation="Horizontal">
                            <FontIcon FontFamily="Segoe MDL2 Assets" Glyph="&#xE9D9;" />
                            <TextBlock x:Uid="AnalyzeButtonText" Text="Analyze" Margin="8,0,0,0" />
                        </StackPanel>
                    </Button>
                </StackPanel>
            </Grid>
        </Grid>
    </Grid>
</Window>
